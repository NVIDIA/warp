ci:
  autofix_commit_msg: |
    [pre-commit.ci] auto code formatting
  autofix_prs: false
  autoupdate_branch: ""
  autoupdate_commit_msg: "[pre-commit.ci] pre-commit autoupdate"
  autoupdate_schedule: quarterly
  skip: []
  submodules: false

# See https://pre-commit.com for more information
# See https://pre-commit.com/hooks.html for more hooks
repos:
  - repo: local
    hooks:
      - id: warp-check-generated-files
        name: "warp: regenerate generated files"
        entry: python tools/pre-commit-hooks/check_generated_files.py
        language: python
        # NOTE: ruff version must match ruff-pre-commit rev below to avoid formatting drift.
        additional_dependencies: [numpy, ruff==0.14.10]
        always_run: true
        pass_filenames: false
      - id: warp-check-version-consistency
        name: "warp: check version consistency and regenerate version.h"
        entry: python tools/pre-commit-hooks/check_version_consistency.py --verbose
        language: python
        always_run: true
        pass_filenames: false
  - repo: https://github.com/astral-sh/ruff-pre-commit
    # Ruff version.
    rev: v0.14.10
    hooks:
      # Run the linter.
      - id: ruff
        args: [--fix] # Apply fixes to resolve lint violations.
      # Run the formatter.
      - id: ruff-format
  - repo: https://github.com/astral-sh/uv-pre-commit
    # uv version.
    rev: 0.9.21
    hooks:
      # Update the uv lockfile
      - id: uv-lock
  - repo: https://github.com/crate-ci/typos
    rev: v1.41.0
    hooks:
      - id: typos
  - repo: https://github.com/pre-commit/mirrors-clang-format
    rev: v21.1.8
    hooks:
      - id: clang-format
        types_or: [c++, c, cuda]
        files: ^warp/
